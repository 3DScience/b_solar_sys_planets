
print "RichTextUi_1 runing ...."
RichTextUi_1={}
RichTextUi_1.mainCamera=nil;
RichTextUi_1.textUI=nil;
RichTextUi_1.currentTextIdx=1;
function RichTextUi_1.InstantiateUi(richtextui_1)
	richtextui=luautils.Instantiate(richtextui_1)
	luaScriptComponent=richtextui.GetComponentsInChildren(luautils.getType("Fungus.LuaScript"))[1];
	luaScriptComponent.OnExecute(); 
end
function RichTextUi_1.displayText(textUI,metaData)
	RichTextUi_1.textUI=textUI;
	RichTextUi_1.textUI.SetActive(true);
	TitleTextComponent=textUI.transform.FindChild("Ui/titleBox/txt_title").GetComponent("Text");
	TitleTextComponent.text=metaData["title"];
	headerTextComponent=textUI.transform.FindChild("Ui/infomationBox/txtHeader").GetComponent("Text");
	headerTextComponent.text=metaData[RichTextUi_1.currentTextIdx]["Header"];
	contentTextComponent=textUI.transform.FindChild("Ui/infomationBox/ScroolRect/txt_info").GetComponent("Text");
	contentTextComponent.text=metaData[RichTextUi_1.currentTextIdx]["TextContent"];;

	if (RichTextUi_1.mainCamera==nil) then
		RichTextUi_1.mainCamera=luautils.getMainCamera().GetComponent("CameraController_1");
	end
	RichTextUi_1.mainCamera.OnShowUi();
	-- force scroll to top
	--type=luautils.getType("UnityEngine.UI.ScrollRect, UnityEngine.UI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null");
	--print( type)
	scrollRectComponent=textUI.transform.FindChild("Ui/infomationBox/ScroolRect").GetComponent("ScrollRect");
	--print (scrollRectComponent.aa)
	scrollRectComponent.normalizedPosition = luautils.CreateVecter2(0,1);

	local _GoToSceneName = getvar(flowchart, "GoToSceneName");
	_GoToSceneName.value=metaData["GoToSceneName"];
end
function RichTextUi_1.hideUi()
	print ( "rex command hideUi " );
	RichTextUi_1.textUI.SetActive(false);
	if (RichTextUi_1.mainCamera==nil) then
		RichTextUi_1.mainCamera=luautils.getMainCamera().GetComponent("CameraController_1");
	end
	RichTextUi_1.mainCamera.OnHideUi();
end
function RichTextUi_1.ExplorerButtonClick()
	luautils.Destroy(RichTextUi_1.textUI);
	runblock(flowchart, "LoadScene")
end
